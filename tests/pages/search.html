---
categories: [Widgets]
layout: page
title: Search
resource: true
---
      <form role="form" class="search-pf has-button">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search1" class="sr-only">Search</label>
            <input id="search1" type="search" class="form-control" placeholder="Search">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <h2>Pre-populated</h2>
      <form role="form" class="search-pf has-button">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search2" class="sr-only">Search</label>
            <input id="search2" type="search" class="form-control" placeholder="Search" value="Search term">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <h2>Without Button</h2>
      <form role="form" class="search-pf">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search3" class="sr-only">Search</label>
            <input id="search3" type="search" class="form-control" placeholder="Search">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
      </form>
      <h2>Without Clear</h2>
      <form role="form" class="search-pf has-button">
        <div class="form-group">
          <div class="search-pf-input-group">
            <label for="search4" class="sr-only">Search</label>
            <input id="search4" type="search" class="form-control" placeholder="Search">
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <h2>Sizes</h2>
      <form role="form" class="search-pf has-button">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search-lg" class="sr-only">Search</label>
            <input id="search-lg" type="search" class="form-control input-lg" placeholder="Search">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default btn-lg" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <br />
      <form role="form" class="search-pf has-button">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search5" class="sr-only">Search</label>
            <input id="search5" type="search" class="form-control" placeholder="Search">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <br />
      <form role="form" class="search-pf has-button">
        <div class="form-group has-clear">
          <div class="search-pf-input-group">
            <label for="search-sm" class="sr-only">Search</label>
            <input id="search-sm" type="search" class="form-control input-sm" placeholder="Search">
            <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-default btn-sm" type="submit"><span class="fa fa-search"></span></button>
        </div>
      </form>
      <h2>Within the grid</h2>
      <div class="row">
        <div class="col-md-6">
          <form role="form" class="search-pf has-button">
            <div class="form-group has-clear">
              <div class="search-pf-input-group">
                <label for="search6" class="sr-only">Search</label>
                <input id="search6" type="search" class="form-control" placeholder="Search">
                <button type="button" class="clear" aria-hidden="true"><span class="pficon pficon-close"></span></button>
              </div>
            </div>
            <div class="form-group">
              <button class="btn btn-default" type="submit"><span class="fa fa-search"></span></button>
            </div>
          </form>
        </div>
      </div>
      <script>
        function hideClearButton(clearButton) {
          if (clearButton.classList.indexOf('pficon-close') !== -1) {
            clearButton.classList.add("hidden");
          }
        }
        function showClearButton(clearButton) {
          if (clearButton.classList.indexOf('pficon-close') !== -1) {
            clearButton.classList.remove("hidden");
          }
        }
        function clearSearch(searchText) {
          searchText.value = '';
        }

        function addClearListener(clearButton) {
          clearButton.addEventListener('click', function() {
            clearSearch(clearButton.previousElementSibling);
            hideClearButton(clearButton);
          });
        }

        function watchSearchText(searchText) {
          searchText.addEventListener('keyup', function() {
            if (searchText.value) {
              showClearButton(searchText.nextElementSibling);
            } else {
              hideClearButton(searchText.nextElementSibling);
            }
          });
        }

        function initSearch() {
          var clearButtons = document.getElementsByClassName('clear');
          console.dir(clearButtons);
          for (var i = 0; i < clearButtons.length; i++) {
            addClearListener(clearButtons[i]);
            if (!clearButtons[i].previousElementSibling.value) {
              hideClearButton(clearButtons[i])
            }
          }


          var searchPFs = document.getElementsByClassName('search-pf');
          for (i = 0; i < searchPFs.length; i++) {
            var hasClears = searchPFs[i].getElementsByClassName('has-clear');
            for (var j = 0; j < hasClears.length; j++) {
              var searchTexts = hasClears[j].getElementsByClassName('form-control');
              console.dir(searchTexts);
              for (var k = 0; k < searchTexts.length; k++) {
                watchSearchText(searchTexts[k]);
              }
            }
          }
        }

        window.addEventListener('load', initSearch, false);
      </script>
